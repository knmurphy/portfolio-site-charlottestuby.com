(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{Brdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NetlifyCmsMediaLibraryUploadcare=void 0;var r=o(n("r00r")),i=o(n("hbfB")),a=n("JPcv");function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}window.UPLOADCARE_LIVE=!1,window.UPLOADCARE_MANUAL_START=!0;const u={previewStep:!0,integration:"NetlifyCMS-Uploadcare-MediaLibrary"};function s(e){if(Array.isArray(e)||a.Iterable.isIterable(e)){const t=Array.isArray(e)?e:e.toJS();return function(e){const t=`~${e.length}/nth/`;return Array.from({length:e.length},(function(e,n){return new RegExp(`${t}${n}/$`)})).every((t=>e.some((e=>t.test(e)))))}(t)?function(e){const t=new RegExp(`^.+/([^/]+~${e.length})/nth/`).exec(e[0])[1];return new Promise((e=>r.default.loadFileGroup(t).done((t=>e(t)))))}(t):Promise.all(t.map((e=>d(e))))}return e&&"string"===typeof e?d(e):null}function d(e){const t=e.startsWith("https://ucarecdn.com")&&!/~\d+\/nth\/\d+\//.test(e);return r.default.fileFrom(t?"uploaded":"url",e)}function g({files:e,config:t,handleInsert:n,settings:i={}}){function a(e){const{cdnUrl:t,name:n,isImage:r}=e;let a=r&&i.defaultOperations?`${t}-${i.defaultOperations}`:t;return!!a.endsWith("/")&&i.autoFilename&&(a+=n),a}i.defaultOperations&&!i.defaultOperations.startsWith("/")&&console.warn("Uploadcare default operations should start with `/`. Example: `/preview/-/resize/100x100/image.png`"),r.default.openDialog(e,t).done((({promise:e,files:t})=>{const r=Boolean(t);return e().then((e=>{if(r)return Promise.all(t().map((e=>e.then((e=>a(e)))))).then((e=>n(e)));n(a(e))}))}))}const b={name:"uploadcare",init:async function({options:e={config:{},settings:{}},handleInsert:t}={}){const n=e.config,{publicKey:a}=n,o=f(n,["publicKey"]),c=l(l({},u),o);return window.UPLOADCARE_PUBLIC_KEY=a,r.default.registerTab("preview",i.default),{show:({value:n,config:r={},allowMultiple:i,imagesOnly:a=!1}={})=>{const o=l(l({},c),{},{imagesOnly:a},r),p=!1!==i&&!!o.multiple,f=l(l({},o),{},{multiple:p}),u=s(n);return u&&!u.state?u.then((n=>g({files:n,config:f,settings:e.settings,handleInsert:t}))):g({files:u,config:f,settings:e.settings,handleInsert:t})},enableStandalone:()=>!1}}},v=b;t.NetlifyCmsMediaLibraryUploadcare=v;var h=b;t.default=h},hbfB:function(e,t,n){"use strict";n.r(t);var r=n("r00r"),i=n.n(r);!function(e,t){if("undefined"===typeof document)return t;e=e||"";var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),n.appendChild(r)}('\n.uploadcare-tab-effects--crops{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;max-width:100%}\n.uploadcare-tab-effects--effect-button{-ms-flex-negative:1;flex-shrink:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;padding:0;width:45px;height:45px;border-color:transparent;background:transparent;color:#212121;fill:#212121}.uploadcare-tab-effects--effect-button:active,.uploadcare-tab-effects--effect-button:focus,.uploadcare-tab-effects--effect-button:hover{fill:#0969ee;color:#0969ee}.uploadcare-tab-effects--effect-button:focus,.uploadcare-tab-effects--effect-button:hover{border-color:transparent;background:transparent}.uploadcare-tab-effects--effect-button[aria-disabled=true]{border-color:transparent!important;background:transparent!important;color:#d4d2d2!important;fill:#d4d2d2!important}.uploadcare-tab-effects--effect-button:before{content:"";display:block;-ms-flex-order:1;order:1;margin:1px 0;width:6px;height:6px;background:transparent;border-radius:50%}.uploadcare-tab-effects--effect-button_applied:before{background:#157cfc}@media (min-width:760px){.uploadcare-tab-effects--effect-button:focus,.uploadcare-tab-effects--effect-button:hover{position:relative;overflow:visible}.uploadcare-tab-effects--effect-button:focus:after,.uploadcare-tab-effects--effect-button:hover:after{content:attr(aria-label);display:block;position:absolute;top:0;left:50%;width:auto;height:auto;background:#e3e1e1;color:#212121;-webkit-transform:translateX(-50%) translateY(-100%);transform:translateX(-50%) translateY(-100%);padding:12px;border-radius:6px;line-height:1;min-width:100%}}\n.uploadcare-tab-effects--icon{height:32px}\n.uploadcare-tab-effects--effects{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;max-width:100%}\n.uploadcare-tab-effects--additions{-ms-flex-positive:1;flex-grow:1}\n\n\n.uploadcare-tab-effects--range{-ms-flex-positive:1;flex-grow:1}input[type=range].uploadcare-tab-effects--range__input{box-sizing:border-box;margin:0;padding:0;width:100%;height:40px;line-height:1}input[type=range].uploadcare-tab-effects--range__input:focus{outline:2px solid rgba(21,124,252,.5);outline-offset:1px}input[type=range].uploadcare-tab-effects--range__input::-moz-range-track{background:#d4d2d2}input[type=range].uploadcare-tab-effects--range__input::-moz-range-progress{background:#157cfc}input[type=range].uploadcare-tab-effects--range__input::-moz-range-thumb{border:none;background:#212121;box-shadow:none}input[type=range].uploadcare-tab-effects--range__input::-moz-range-thumb:focus,input[type=range].uploadcare-tab-effects--range__input::-moz-range-thumb:hover{background:#000}input[type=range].uploadcare-tab-effects--range__input::-moz-range-thumb:active{background:#000}input[type=range].uploadcare-tab-effects--range__input::-ms-track{background:#d4d2d2}input[type=range].uploadcare-tab-effects--range__input::-ms-fill-lower{background:#157cfc}input[type=range].uploadcare-tab-effects--range__input::-ms-thumb{background:#212121}input[type=range].uploadcare-tab-effects--range__input::-ms-thumb:active,input[type=range].uploadcare-tab-effects--range__input:focus::-ms-thumb{background:#000}');var a=Object.freeze({be:{effects:{captions:{blur:"\u0420\u0430\u0437\u043c\u044b\u0446\u0446\u0451",crop:"\u0410\u0431\u0440\u044d\u0437\u043a\u0430",enhance:"\u041f\u0430\u043b\u044f\u043f\u0448\u044d\u043d\u043d\u0435",flip:"\u0410\u0434\u043b\u044e\u0441\u0442\u0440\u0430\u0432\u0430\u0446\u044c \u043f\u0430 \u0432\u0435\u0440\u0442\u044b\u043a\u0430\u043b\u0456",grayscale:"\u0410\u0434\u0446\u0435\u043d\u043d\u0456 \u0448\u044d\u0440\u0430\u0433\u0430",invert:"\u0406\u043d\u0432\u0435\u0440\u0442\u0430\u0432\u0430\u0446\u044c",mirror:"\u0410\u0434\u043b\u044e\u0441\u0442\u0440\u0430\u0432\u0430\u0446\u044c \u043f\u0430 \u0433\u0430\u0440\u044b\u0437\u0430\u043d\u0442\u0430\u043b\u0456",rotate:"\u041f\u0430\u0432\u044f\u0440\u043d\u0443\u0446\u044c",sharp:"\u0412\u044b\u0440\u0430\u0437\u043d\u0430\u0441\u0446\u044c"},apply:"\u0423\u0436\u044b\u0446\u044c"}},en:{effects:{captions:{blur:"Blur",crop:"Crop",enhance:"Enhance",flip:"Flip",grayscale:"Grayscale",invert:"Invert",mirror:"Mirror",rotate:"Rotate",sharp:"Sharpen"},apply:"Apply"}},fr:{effects:{captions:{blur:"Flouter",crop:"Recadrer",enhance:"Effets",flip:"Retourner",grayscale:"Noir et blanc",invert:"Inverser",mirror:"Mirroir",rotate:"Tourner",sharp:"Nettet\xe9"},apply:"Appliquer"}},it:{effects:{captions:{blur:"Sfoca",crop:"Ritaglia",enhance:"Accentua",flip:"Capovolgi",grayscale:"Bianconero",invert:"Inverti",mirror:"Specchia",rotate:"Ruota",sharp:"Nitidezza"},apply:"Applica"}},ja:{effects:{captions:{blur:"\u307c\u304b\u3057",crop:"\u30c8\u30ea\u30df\u30f3\u30b0",enhance:"\u88dc\u6b63",flip:"\u53cd\u8ee2",grayscale:"\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30eb",invert:"\u968e\u8abf\u53cd\u8ee2",mirror:"\u30df\u30e9\u30fc",rotate:"\u56de\u8ee2",sharp:"\u30b7\u30e3\u30fc\u30d7"},apply:"\u9069\u7528"}},nl:{effects:{captions:{blur:"Vervagen",crop:"Bijknippen",enhance:"Verbeteren",flip:"Omkeren",grayscale:"Zwart-wit",invert:"Inverteren",mirror:"Spiegelen",rotate:"Roteren",sharp:"Verscherpen"},apply:"Toepassen"}},ru:{effects:{captions:{blur:"\u0420\u0430\u0437\u043c\u044b\u0442\u0438\u0435",crop:"\u041e\u0431\u0440\u0435\u0437\u043a\u0430",enhance:"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435",flip:"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438",grayscale:"\u041e\u0442\u0442\u0435\u043d\u043a\u0438 \u0441\u0435\u0440\u043e\u0433\u043e",invert:"\u0418\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",mirror:"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438",rotate:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c",sharp:"\u0420\u0435\u0437\u043a\u043e\u0441\u0442\u044c"},apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}},vi:{effects:{captions:{blur:"M\u1edd",crop:"C\u1eaft",enhance:"Tinh ch\u1ec9nh",flip:"L\u1eadt",grayscale:"X\xe1m",invert:"\xc2m b\u1ea3n",mirror:"G\u01b0\u01a1ng",rotate:"Xoay",sharp:"L\xe0m n\xe9t"},apply:"\xc1p d\u1ee5ng"}}}),o=["crop","rotate","enhance","sharp","grayscale"],c="en",l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=function(e){return Object.keys(a).indexOf(e)>-1},g=function(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild};var b={blur:["number",10],enhance:["number",50],flip:["boolean"],grayscale:["boolean"],invert:["boolean"],mirror:["boolean"],rotate:["number"],sharp:["number",5]},v={blur:/-\/blur\/(([0-9]+)\/|)/i,crop:/-\/crop\/([0-9]+)x([0-9]+)(\/(center|([0-9]+),([0-9]+)))?\/(-\/resize\/([0-9]+)x([0-9]+)\/)?/i,enhance:/-\/enhance\/(([0-9]+)\/|)/i,flip:/-\/flip\//i,grayscale:/-\/grayscale\//i,invert:/-\/invert\//i,mirror:/-\/mirror\//i,rotate:/-\/rotate\/(([0-9]+)\/)/i,sharp:/-\/sharp\/(([0-9]+)\/|)/i};var h={view:"preview",image:{},appliedEffects:{blur:0,crop:null,enhance:0,flip:!1,grayscale:!1,invert:!1,mirror:!1,rotate:0,sharp:0},otherModifiers:""},m=function(e){var t=e.originalSize,n=e.coords,r=n.width,i=n.height,a=n.center,o=n.left,c=n.top,l="";t?r===t[0]&&i===t[1]||(l+="-/crop/"+r+"x"+i+"/"+o+","+c+"/"):(l+="-/crop/"+r+"x"+i+"/",a?l+="center/":void 0!==o&&void 0!==c&&(l+=o+","+c+"/"));return e.resizeTo?l+="-/resize/"+e.resizeTo.join("x")+"/":l+="-/preview/",l},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="";for(var i in e)if(e[i])switch(l(e[i])){case"boolean":if(!n&&~["flip","mirror"].indexOf(i))break;r+="-/"+i+"/";break;case"number":if(!n&&"rotate"===i)break;r+="-/"+i+"/"+e[i]+"/";break;case"object":"crop"===i&&t&&(r+=m(e[i]))}return r=r?e.crop&&t?r:"-/preview/"+r:""},L=[0,270,180,90],y=function(e){var t=L.indexOf(e);return~t&&t!==L.length-1?L[t+1]:L[0]},_=["crop","rotate","mirror","flip","blur","sharp","enhance","grayscale","invert"],C=function(e,t){var n=u(t,2),r=n[0],i=n[1],a=e.downscale&&(r>e.preferedSize[0]||i>e.preferedSize[1]),o=e.upscale&&(r<e.preferedSize[0]||i<e.preferedSize[1]);return a||o?e.preferedSize:null},x=function(e){var t=function(e){var t=[];if("string"===typeof e&&"all"===e)return _;var n=(t="string"===typeof e?e.replace(/\s/g,"").split(","):Array.isArray(e)?e:o).indexOf("crop");return~n&&0!==n&&(t=["crop"].concat(s(t.slice(0,n)),s(t.slice(n+1)))),t}(e.effects),n=function(e,t){return e||!~t.indexOf("crop")?e:[{downscale:!1,notLess:!1,preferedSize:void 0,upscale:!1}]}(e.crop,t);return f({},e,{crop:n},{effects:t},{locale:e.locale?e.locale:c})},E=function(e,t){var n=t.effects,r=t.crop,i=function(e){var t=h.appliedEffects,n={};return e.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n}(n),a=function(e,t,n){if(!e)return{effects:{},otherModifiers:""};var r={},i=e.replace(/-\/preview\//g,"");return t.forEach((function(t){if(v[t]){var a=e.match(v[t]);if(a){var o=void 0;if("crop"===t){var c=a[7]&&[a[8],a[9]],l=parseInt(a[1]),p=parseInt(a[2]),f=n.findIndex((function(e){if("undefined"===typeof e.preferedSize)return!0;var t=u(e.preferedSize,2),n=t[0],r=t[1],i=l===n&&p===r,a=(n/r).toPrecision(2)===(l/p).toPrecision(2);return i||a}));o={resizeTo:c,index:f>=0?f:null,coords:{width:l,height:p,center:"center"===a[4],left:void 0===a[5]?void 0:parseInt(a[5]),top:void 0===a[6]?void 0:parseInt(a[6])}}}else"boolean"===b[t][0]&&(o=!0),"number"===b[t][0]&&(o=void 0===a[2]?b[t][1]:parseInt(a[2]));r[t]=o,i=i.replace(a[0],"")}}})),{effects:r,otherModifiers:i}}(e.cdnUrlModifiers,n,r);return function(e){var t=e,n={view:[],imageLoad:[],appliedEffects:[],image:[]},r=function(e,t){return n[t].push(e),function(){n[t]=n[t].filter((function(t){return t!==e}))}};return{getState:function(){return t},setView:function(e){t=f({},t,{view:e}),n.view.forEach((function(e){return e()}))},setImageLoad:function(e){t=f({},t,{imageLoad:e}),n.imageLoad.forEach((function(e){return e()}))},setAppliedEffect:function(e){var r=f({},t.appliedEffects,e);t=f({},t,{appliedEffects:r}),n.appliedEffects.forEach((function(e){return e()}))},rebuildImage:function(){var e=t,r=e.appliedEffects,i=e.image,a=w(r)+t.otherModifiers,o=function(e){if(e){var t=e.coords,n=e.resizeTo,r={width:t.width,height:t.height,left:t.left,top:t.top};return n&&(r.sw=n[0],r.sh=n[1]),r}return null}(r.crop);t.image=f({},i,{cdnUrl:i.originalUrl+(a||""),cdnUrlModifiers:a,crop:o}),n.image.forEach((function(e){return e()}))},subscribeToView:function(e){return r(e,"view")},subscribeToImageLoad:function(e){return r(e,"imageLoad")},subscribeToImage:function(e){return r(e,"image")},subscribeToAppliedEffects:function(e){return r(e,"appliedEffects")}}}(f({},h,{image:e},{appliedEffects:f({},i,a.effects)},{otherModifiers:a.otherModifiers}))},S=function(){var e=void 0,t=function(){e=g('<div class="uploadcare--tab__content uploadcare--preview__content uploadcare--preview__content_crop"></div>\n')};return{getElement:function(){return e||t(),e},appendChild:function(t){e&&e.appendChild(t)}}},M={"crop-button":"uploadcare-tab-effects--crop-button","crop-button__icon":"uploadcare-tab-effects--crop-button__icon",cropButton:"uploadcare-tab-effects--crop-button",cropButton__icon:"uploadcare-tab-effects--crop-button__icon"},k="uploadcare--crop-sizes__item_current",A=function(e){var t=void 0,n=e.size,r=e.title,i=e.onClick,a={applied:e.applied||!1,disabled:e.disabled||!1},o=function(){var e;t=g('<div role="button" tabindex="0" class="uploadcare--button uploadcare--button_icon uploadcare--crop-sizes__item '+(e={title:r,cn:M}).cn["crop-button"]+'" data-caption="'+e.title+'">\n  <div class="uploadcare--crop-sizes__icon '+e.cn["crop-button__icon"]+'"></div>\n</div>\n'),c(),a.applied&&t.classList.add(k),t.addEventListener("click",l)},c=function(){var e=t.querySelector("."+M["crop-button__icon"]),r=n.width,i=n.height;r&&i?(e.style.width=r,e.style.height=i):(e.innerHTML='\n<svg width="32" height="32" role="presentation" class="uploadcare--icon">\n  <use xlink:href="#uploadcare--icon-crop-free"/>\n</svg>\n      ',e.classList.add("uploadcare--crop-sizes__icon_free"))},l=function(){!a.disabled&&i&&i()};return{getElement:function(){return t||o(),t},toggleApplied:function(e){t&&a.applied!==e&&(a.applied=e,t.classList[e?"add":"remove"](k))},toggleDisabled:function(e){t&&a.disabled!==e&&(a.disabled=e,t.setAttribute("aria-disabled",e),t.setAttribute("tabindex",e?"-1":"0"))}}},O={crops:"uploadcare-tab-effects--crops"},I=function(e){var t=void 0,n=[],r=e.crops,i=e.onCropClick,a={currentCrop:e.currentCrop||0},o=function(){t=g('<div class="'+{cn:O}.cn.crops+'"></div>\n'),r.forEach((function(e){var t=e.index,r=e.size,o=e.title;n[t]=new A({size:r,title:o,applied:a.currentCrop===t,onClick:function(){a.currentCrop!==t&&(c(t),i(e))}})})),n.forEach((function(e){return t.appendChild(e.getElement())}))},c=function(e){n&&(a.currentCrop=e,n.forEach((function(t,n){return t.toggleApplied(n===e)})))};return{getElement:function(){return t||o(),t},toggleDisabled:function(e){n&&n.forEach((function(t){return t.toggleDisabled(e)}))},updateApplied:c}},z={"effect-button":"uploadcare-tab-effects--effect-button","effect-button_applied":"uploadcare-tab-effects--effect-button_applied",effectButton:"uploadcare-tab-effects--effect-button",effectButton_applied:"uploadcare-tab-effects--effect-button_applied"},U="uploadcare-tab-effects--icon",j=Object.freeze({blur:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <defs>\n    <filter id="filter-blur" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feGaussianBlur stdDeviation="3" in="SourceGraphic">\n    </feGaussianBlur></filter>\n  </defs>\n  <circle cx="16" cy="16" r="8" filter="url(#filter-blur)"></circle>\n</svg>\n'},crop:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <path d="M21,23 L10.9999602,23 C9.8967381,23 9,22.0989187 9,21.0000398 L9,11 L5,11 L5,9 L9,9 L9,5 L11,5 C11,5 11.0034766,21 10.9999602,21 L27,21 L27,23 L23,23 L23,27 L21,27 L21,23 Z M13,11 L13,9 L21.0046024,9 C22.1100735,9 23,9.89939484 23,11.0081317 L23,19.1279297 L21,19.1279297 L21,11.0081317 C21,11.00117 13,11 13,11 Z"></path>\n</svg>\n'},enhance:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <path d="M4.29289322,24.0082521 L16.3137085,11.9874369 C16.7042328,11.5969126 17.3373978,11.5969126 17.7279221,11.9874369 L20.5563492,14.815864 C20.9468735,15.2063883 20.9468735,15.8395533 20.5563492,16.2300776 L8.53553391,28.2508928 C8.14500961,28.6414171 7.51184464,28.6414171 7.12132034,28.2508928 L4.29289322,25.4224657 C3.90236893,25.0319414 3.90236893,24.3987764 4.29289322,24.0082521 Z M14.7175144,16.4120581 L16.131728,17.8262716 L18.4350288,15.5229708 L17.0208153,14.1087572 L14.7175144,16.4120581 L14.7175144,16.4120581 Z M16.3411081,7.13592111 L13.8054564,6.33578644 L16.3411081,5.53565177 L17.1412428,3 L17.9413775,5.53565177 L20.4770292,6.33578644 L17.9413775,7.13592111 L17.1412428,9.67157288 L16.3411081,7.13592111 Z M24.5356518,13.8304648 L22,13.0303301 L24.5356518,12.2301954 L25.3357864,9.69454365 L26.1359211,12.2301954 L28.6715729,13.0303301 L26.1359211,13.8304648 L25.3357864,16.3661165 L24.5356518,13.8304648 Z M9.53565177,10.8304648 L7,10.0303301 L9.53565177,9.23019541 L10.3357864,6.69454365 L11.1359211,9.23019541 L13.6715729,10.0303301 L11.1359211,10.8304648 L10.3357864,13.3661165 L9.53565177,10.8304648 Z M22.5356518,21.8304648 L20,21.0303301 L22.5356518,20.2301954 L23.3357864,17.6945436 L24.1359211,20.2301954 L26.6715729,21.0303301 L24.1359211,21.8304648 L23.3357864,24.3661165 L22.5356518,21.8304648 Z"></path>\n</svg>\n'},flip:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <path d="M15.3492086,13.7592566 L8.34920863,7.7592566 C7.64431003,7.15505781 8.07159372,6 9,6 L23,6 C23.9284063,6 24.35569,7.15505781 23.6507914,7.7592566 L16.6507914,13.7592566 C16.2763016,14.0802478 15.7236984,14.0802478 15.3492086,13.7592566 Z M15.3492086,18.2407434 C15.7236984,17.9197522 16.2763016,17.9197522 16.6507914,18.2407434 L23.6507914,24.2407434 C24.35569,24.8449422 23.9284063,26 23,26 L9,26 C8.07159372,26 7.64431003,24.8449422 8.34920863,24.2407434 L15.3492086,18.2407434 Z M11.7032574,24 L20.2967426,24 L16,20.3170778 L11.7032574,24 Z M27,15 L27,17 L25,17 L25,15 L27,15 Z M23,15 L23,17 L21,17 L21,15 L23,15 Z M19,15 L19,17 L17,17 L17,15 L19,15 Z M15,15 L15,17 L13,17 L13,15 L15,15 Z M11,15 L11,17 L9,17 L9,15 L11,15 Z M7,15 L7,17 L5,17 L5,15 L7,15 Z"></path>\n</svg>\n'},grayscale:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <path d="M19.3596223,12.0563396 L21.926451,14.6231683 C21.8411716,15.2691808 21.6833431,15.8923164 21.4614188,16.484122 L17.1233611,12.1460643 C16.660957,12.2457748 16.2168493,12.3946804 15.7967877,12.5870314 L20.8981472,17.688391 C20.6220708,18.1749895 20.2993732,18.6316689 19.936127,19.0523568 L14.3668527,13.4830825 C14.0447797,13.7487243 13.7487243,14.0447797 13.4830825,14.3668527 L19.0523568,19.936127 C18.6316689,20.2993732 18.1749895,20.6220708 17.688391,20.8981472 L12.5870314,15.7967877 C12.3946804,16.2168493 12.2457748,16.660957 12.1460643,17.1233611 L16.484122,21.4614188 C15.8923164,21.6833431 15.2691808,21.8411716 14.6231683,21.926451 L12.0563396,19.3596223 C12.4769606,22.5431547 15.2015668,25 18.5,25 C22.0898509,25 25,22.0898509 25,18.5 C25,15.2015668 22.5431547,12.4769606 19.3596223,12.0563396 Z M10.5324038,21.4675962 C7.30134737,20.2636648 5,17.1505866 5,13.5 C5,8.80557963 8.80557963,5 13.5,5 C17.1505866,5 20.2636648,7.30134737 21.4675962,10.5324038 C24.6986526,11.7363352 27,14.8494134 27,18.5 C27,23.1944204 23.1944204,27 18.5,27 C14.8494134,27 11.7363352,24.6986526 10.5324038,21.4675962 L10.5324038,21.4675962 Z"></path>\n</svg>\n'},invert:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path d="M5,6.99180311 C5,5.89386312 5.90087297,5 6.99180311,5 L25.0081969,5 C26.1061369,5 27,5.90087297 27,6.99180311 L27,25.0081969 C27,26.1061369 26.099127,27 25.0081969,27 L6.99180311,27 C5.89386312,27 5,26.099127 5,25.0081969 L5,6.99180311 Z M25,7 L7,7 L7,25 L12.071629,19.928371 C13.0769868,20.9337288 14.4658757,21.5555556 16,21.5555556 C19.0682486,21.5555556 21.5555556,19.0682486 21.5555556,16 C21.5555556,14.4658757 20.9337288,13.0769868 19.928371,12.071629 L25,7 L25,7 Z M12.071629,19.928371 C11.0662712,18.9230132 10.4444444,17.5341243 10.4444444,16 C10.4444444,12.9317514 12.9317514,10.4444444 16,10.4444444 C17.5341243,10.4444444 18.9230132,11.0662712 19.928371,12.071629 L12.071629,19.928371 L12.071629,19.928371 Z"></path>\n</svg>\n'},mirror:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <path d="M13.7592566,16.6507914 L7.7592566,23.6507914 C7.15505781,24.35569 6,23.9284063 6,23 L6,9 C6,8.07159372 7.15505781,7.64431003 7.7592566,8.34920863 L13.7592566,15.3492086 C14.0802478,15.7236984 14.0802478,16.2763016 13.7592566,16.6507914 Z M18.2407434,16.6507914 C17.9197522,16.2763016 17.9197522,15.7236984 18.2407434,15.3492086 L24.2407434,8.34920863 C24.8449422,7.64431003 26,8.07159372 26,9 L26,23 C26,23.9284063 24.8449422,24.35569 24.2407434,23.6507914 L18.2407434,16.6507914 Z M24,20.2967426 L24,11.7032574 L20.3170778,16 L24,20.2967426 Z M15,5 L17,5 L17,7 L15,7 L15,5 Z M15,9 L17,9 L17,11 L15,11 L15,9 Z M15,13 L17,13 L17,15 L15,15 L15,13 Z M15,17 L17,17 L17,19 L15,19 L15,17 Z M15,21 L17,21 L17,23 L15,23 L15,21 Z M15,25 L17,25 L17,27 L15,27 L15,25 Z"></path>\n</svg>\n'},rotate:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <path d="M22.8449302,10.1550698 L22.8449302,10.1550698 C21.1616077,8.18356972 18.6836184,7 16,7 C11.0294373,7 7,11.0294373 7,16 C7,20.9705627 11.0294373,25 16,25 C18.6610655,25 21.131472,23.8397191 22.8318195,21.8591349 L24.3493086,23.1619115 C22.2729281,25.5805032 19.2506133,27 16,27 C9.92486775,27 5,22.0751322 5,16 C5,9.92486775 9.92486775,5 16,5 C19.224943,5 22.2084802,6.39983031 24.2627348,8.73726518 L27,6 L27,11.9970707 C27,12.5509732 26.5621186,13 25.9970707,13 L20,13 L22.8449302,10.1550698 Z M15,14 L17,14 C17.5522847,14 18,14.4477153 18,15 L18,17 C18,17.5522847 17.5522847,18 17,18 L15,18 C14.4477153,18 14,17.5522847 14,17 L14,15 C14,14.4477153 14.4477153,14 15,14 Z"></path>\n</svg>\n'},sharp:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n  <polygon points="16 6 25 26 7 26"></polygon>\n</svg>\n'}}),T=function(e){var t=e.name;if(!j[t])throw new Error('Icon with name "'+t+"\" doesn't exist.");var n=void 0,r=function(){(n=g(j[t]())).setAttribute("class",n.getAttribute("class")+" "+U)};return{getElement:function(){return n||r(),n}}},Z=function(e){var t=void 0,n=e.effect,r=e.title,i=e.onClick,a={applied:e.applied||!1,disabled:e.disabled||!1},o=function(){var e,i=new T({name:n});(t=g('<div role="button" tabindex="0" class="uploadcare--button uploadcare--button_icon '+(e={title:r,cn:z}).cn["effect-button"]+'" aria-label="'+e.title+'"></div>\n')).appendChild(i.getElement()),a.applied&&t.classList.add(z["effect-button_applied"]),t.addEventListener("click",c),t.addEventListener("keypress",(function(e){"Enter"===e.code&&(t.dispatchEvent(new Event("click")),e.preventDefault(),e.stopPropagation())}))},c=function(){!a.disabled&&i&&i()};return{getElement:function(){return t||o(),t},getEffect:function(){return n},toggleApplied:function(e){t&&a.applied!==e&&(a.applied=e,t.classList[e?"add":"remove"](z["effect-button_applied"]))},toggleDisabled:function(e){t&&a.disabled!==e&&(a.disabled=e,t.setAttribute("aria-disabled",e),t.setAttribute("tabindex",e?-1:0))}}},P={effects:"uploadcare-tab-effects--effects"},D=function(e){var t=void 0,n=[],r=e.effects,i=e.titles,a=e.onEffectClick,o={appliedEffects:e.appliedEffects},c=function(){t=g('<div class="'+{cn:P}.cn.effects+'"></div>\n'),r.forEach((function(e){var t=i[e];n.push(new Z({effect:e,title:t,applied:!!o.appliedEffects[e],onClick:function(){return a(e)}}))})),n.forEach((function(e){return t.appendChild(e.getElement())}))};return{getElement:function(){return t||c(),t},toggleDisabled:function(e){n&&n.forEach((function(t){return t.toggleDisabled(e)}))},updateApplied:function(e){n&&(o.appliedEffects=e,n.forEach((function(t){return t.toggleApplied(!!e[t.getEffect()])})))}}},B={additions:"uploadcare-tab-effects--additions",done:"uploadcare-tab-effects--done",cancel:"uploadcare-tab-effects--cancel"},W=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,a=e.locale,o=e.onDone,c=e.onCancel,l=function(){var e;t=g('<div class="uploadcare--footer uploadcare--tab__footer">\n  <div class="uploadcare--footer__additions '+(e={cn:B,locale:a}).cn.additions+'"></div>\n\n  <button type="button" class="uploadcare--button uploadcare--footer__button uploadcare--preview__back '+e.cn.cancel+'">\n    '+e.locale.cancel+'\n  </button>\n\n  <button type="button" class="uploadcare--button uploadcare--button_primary uploadcare--footer__button uploadcare--preview__done '+e.cn.done+'">\n    '+e.locale.done+"\n  </button>\n</div>\n"),n=t.querySelector("."+B.additions),r=t.querySelector("."+B.done),i=t.querySelector("."+B.cancel),r.addEventListener("click",o),i.addEventListener("click",c)};return{getElement:function(){return t||l(),t},empty:function(){if(t)for(;n.firstChild;)n.removeChild(n.firstChild)},appendChild:function(e){t&&n.appendChild(e)},toggleDisabled:function(e){r&&(r.disabled=e)},updateDoneTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.innerText=e||a.done}}},R={title:"uploadcare-tab-effects--title"},N=function(e){var t=void 0,n=void 0,r=e.title,i=function(){var e;t=g('<div class="uploadcare--tab__header">\n  <div class="uploadcare--text uploadcare--text_size_large uploadcare--tab__title uploadcare--preview__title '+(e={title:r,cn:R}).cn.title+'">\n    '+e.title+"\n  </div>\n</div>\n"),n=t.querySelector("."+R.title)};return{getElement:function(){return t||i(),t},updateTitle:function(e){n&&(n.innerText=e)}}},F={image:"uploadcare-tab-effects--image","image-container":"uploadcare-tab-effects--image-container",imageContainer:"uploadcare-tab-effects--image-container"},V=function(e){var t=void 0,n=void 0,r=e.imageUrl,i=e.onUpdate,a=e.onLoad,o=e.onFail,c=function(){var e;t=g('<div class="uploadcare--media '+(e={cn:F,imageUrl:r}).cn["image-container"]+'">\n  <img src="'+e.imageUrl+'" alt="" class="uploadcare--media__image uploadcare--preview__image '+e.cn.image+'">\n</div>\n'),(n=t.querySelector("."+F.image)).addEventListener("load",(function(){return a()})),n.addEventListener("error",(function(){n.complete&&o()})),n.addEventListener("abort",(function(){return o()}))};return{getElement:function(){return t||c(),t},getImg:function(){return n},updateImageUrl:function(e){n.src===e&&n.removeAttribute("src"),n.src=e,i()}}},q={range:"uploadcare-tab-effects--range",range__input:"uploadcare-tab-effects--range__input"},$=function(e){var t=void 0,n=e.min,r=void 0===n?0:n,i=e.max,a=void 0===i?100:i,o=e.step,c=void 0===o?1:o,l=e.value,p=void 0===l?50:l,f=e.onChange,u=function(){var e;(t=g('<div class="'+(e={cn:q,min:r,max:a,step:c,value:p}).cn.range+'">\n  <input type="range" class="'+e.cn.range__input+'" min="'+e.min+'" max="'+e.max+'" step="'+e.step+'" value="'+e.value+'">\n</div>\n')).addEventListener("change",(function(e){return f(e.target.value)}))};return{getElement:function(){return t||u(),t}}},G={enhance:[0,100],sharp:[0,20],blur:[0,100,5]},J=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,c=void 0,l=e.uc,f=e.store,u=e.settings,s=e.onDone,d=e.onFail,b={cropWidget:null,currentCrop:0},v=l.locale.t,h=l.crop.CropWidget,m="-/preview/1162x693/-/setfill/ffffff/-/format/jpeg/-/progressive/yes/",L=function(){var e=f.getState(),c=e.view,l=e.appliedEffects,p=e.image;t=g("<div></div>\n"),n=new N({title:_(c)}),i=new W({locale:{done:v("dialog.tabs.preview.done"),cancel:v("dialog.tabs.preview.image.change")},onDone:M,onCancel:k}),r=new S;var s=p.cdnUrl+m;u.previewUrlCallback&&(s=u.previewUrlCallback(s,p)),a=new V({imageUrl:s,onUpdate:function(){return f.setImageLoad("start")},onLoad:function(){return f.setImageLoad("load")},onFail:function(){return f.setImageLoad("fail")}}),t.appendChild(n.getElement()),t.appendChild(r.getElement()),t.appendChild(i.getElement()),r.appendChild(a.getElement());var d=u.effects,b=d.reduce((function(e,t){return e[t]=x(t),e}),{});o=new D({effects:d,titles:b,appliedEffects:l,onEffectClick:A}),i.appendChild(o.getElement()),f.subscribeToAppliedEffects(z),f.subscribeToView(U),f.subscribeToImage(j),f.subscribeToImageLoad(T)},_=function(e){return"preview"===e?v("dialog.tabs.preview.image.title"):x(e)},x=function(e){return v("effects.captions."+e)},E=function(){b.cropWidget&&b.cropWidget.__api&&(b.cropWidget.__api.release(),b.cropWidget.__api.destroy(),a.getImg().removeAttribute("style"))},M=function(e){var t=f.getState().view;"preview"===t?s():(e.stopPropagation(),"crop"===t&&B(),f.setView("preview"))},k=function(e){var t=f.getState(),n=t.view,r=t.appliedEffects,i=u.crop;if("preview"!==n){e.stopPropagation();var a=0;if("crop"===n)a=i.some((function(e){return!e.preferedSize}))?null:r[n],E();f.setAppliedEffect(p({},n,a)),f.setView("preview")}},A=function(e){var t=f.getState().appliedEffects;"rotate"!==e?"boolean"!==typeof t[e]?"crop"!==e&&"number"!==typeof t[e]||f.setView(e):f.setAppliedEffect(p({},e,!t[e])):f.setAppliedEffect({rotate:y(t.rotate)})},O=function(e){var t=f.getState().view;f.setAppliedEffect(p({},t,parseInt(e)))},z=function(){f.rebuildImage();var e=f.getState().appliedEffects;o.updateApplied(e)},U=function(){var e=f.getState(),t=e.view,r=e.appliedEffects,c=e.image;if(n.updateTitle(_(t)),"preview"===t?i.updateDoneTitle():i.updateDoneTitle(v("effects.apply")),i.empty(),"preview"!==t){if("crop"===t){Z();var l=c.originalUrl+(w([{crop:null}],!1,!1)||"")+m;return u.previewUrlCallback&&(l=u.previewUrlCallback(l,c)),void a.updateImageUrl(l)}if(G[t]){var s=r[t];0===s&&(s=G[t][1]/2,f.setAppliedEffect(p({},t,s)));var d=new $({min:G[t][0],max:G[t][1],step:G[t][2],value:s,onChange:O});i.appendChild(d.getElement())}}else i.appendChild(o.getElement())},j=function(){var e=f.getState().image,t=e.cdnUrl+m;u.previewUrlCallback&&(t=u.previewUrlCallback(t,e)),a.updateImageUrl(t)},T=function(){var e=f.getState(),t=e.view;switch(e.imageLoad){case"start":i.toggleDisabled(!0),"preview"===t&&o.toggleDisabled(!0),"crop"===t&&c.toggleDisabled(!0);break;case"load":i.toggleDisabled(!1),"preview"===t?o.toggleDisabled(!1):"crop"===t&&(P(),c.toggleDisabled(!1));break;case"fail":d()}},Z=function(){var e=u.crop,t=f.getState().appliedEffects.crop;b.currentCrop=t&&void 0!==t.index?t.index:0,c=new I({crops:e.map((function(e,t){var n=R(e);return{index:t,settings:e,title:n.description,size:{width:n.width,height:n.height}}})),currentCrop:b.currentCrop,onCropClick:function(e){b.currentCrop=e.index,b.cropWidget&&b.cropWidget.setCrop(e.settings)}}),i.appendChild(c.getElement())},P=function(){var e=u.crop,t=f.getState(),n=t.appliedEffects,r=t.image,i=n.crop,o=r.originalImageInfo,c=[o.width,o.height];b.cropWidget=new h(l.jQuery(a.getImg()),c,e[b.currentCrop]),i&&i.coords&&b.cropWidget.setSelection(i.coords)},B=function(){var e=b.cropWidget,t=e.crop,n=e.originalSize,r=b.cropWidget.getSelection();E(),f.setAppliedEffect({crop:{originalSize:n,coords:r,resizeTo:C(t,[r.width,r.height]),settings:t,index:b.currentCrop}})},R=function(e){var t=e.preferedSize,n=v("dialog.tabs.preview.crop.free"),r=void 0,i=void 0;if(t){var a=l.utils.gcd(t[0],t[1]),o=l.utils.fitSize(t,[30,30],!0);n=t[0]/a+":"+t[1]/a,r=Math.max(20,o[0])+"px",i=Math.max(12,o[1])+"px"}return{description:n,width:r,height:i}};return{getElement:function(){return t||L(),t}}};function X(e,t){function n(e,t,r,i,a){n.__super__.constructor.call(this,e,t,r,i,a)}return function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.__setState=function(e,r){var i=this;if("image"===e){if(r.info){var o=function(e){var t=window["UPLOADCARE_"+e.toUpperCase()];return"undefined"===typeof t?null:t}("effects");"undefined"===typeof this.settings.effects&&o&&(this.settings.effects=o);var l=x(this.settings),p=E(r.info,l);!function(e,t,n){var r=t.crop,i=e.getState().image;if(r&&!r.some((function(e){return!e.preferedSize}))&&i.isImage&&!i.cdnUrlModifiers&&!i.crop){var a=i.originalImageInfo,o=n.utils.fitSize(r[0].preferedSize,[a.width,a.height],!0),c={originalSize:[a.width,a.height],settings:r[0],resizeTo:C(r[0],o),coords:{left:Math.round((a.width-o[0])/2),top:Math.round((a.height-o[1])/2),width:o[0],height:o[1]}};e.setAppliedEffect({crop:c}),e.rebuildImage()}}(p,l,t);var u=l.locale;t.locale.translations=function(e,t){var n=f({},e),r=d(t),i=a[c],o=function(e){return n.hasOwnProperty(e)};for(var l in n)if(o(l)){if(!o(t)){var p=n[t];n[t]=f({},p,i);continue}r||d(l)?n[l]=f({},n[l],a[l]):n[l]=f({},n[l],i)}return n}(t.locale.translations,u),t.locale.rebuild();var s=new J({uc:t,store:p,settings:l,onDone:function(){var e=i.file.then((function(e){var t=p.getState().image,n=t.cdnUrl,r=t.cdnUrlModifiers,i=t.crop;return f({},e,{cdnUrl:n,cdnUrlModifiers:r,crop:i})}));i.dialogApi.fileColl.replace(i.file,e)},onFail:function(){i.file=null,i.__setState("error",{error:"loadImage"})}}),g=this.container[0];g.innerHTML="",Array.prototype.slice.call(s.getElement().children).forEach((function(e){return g.appendChild(e)})),p.setImageLoad("start")}}else n.__super__.__setState.call(this,e,r)},n.prototype.initImage=function(){},n}t.default=function(e,t,n,r,a){i.a.plugin((function(i){return r.multiple?new i.widget.tabs.PreviewTabMultiple(e,t,n,r,a):new(X(i.widget.tabs.PreviewTab,i))(e,t,n,r,a)}))}}}]);